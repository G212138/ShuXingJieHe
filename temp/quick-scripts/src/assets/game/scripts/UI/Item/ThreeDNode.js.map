{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\ThreeDNode.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qFAAoF;AAE9E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAuC,6BAAY;IAAnD;QAAA,qEA8DC;QA5DW,gBAAU,GAAc,IAAI,CAAC;QAE7B,kBAAY,GAAY,IAAI,CAAC;;IA0DzC,CAAC;IAtDG,0BAAM,GAAN;IAEA,CAAC;IAED,6BAAS,GAAT;IAEA,CAAC;IAEM,wBAAI,GAAX;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAEM,yBAAK,GAAZ;QACI,IAAI,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAA;QACxB,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAA;QACjC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,SAAS;IACD,+BAAW,GAAnB;QACI,IAAI,KAAK,GAAG,iCAAe,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC;QAC/D,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAGO,qCAAiB,GAAzB,UAA0B,KAAa;QACnC,KAAK;QACL,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;QAEtC,mDAAmD;QACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;YAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;oBAChC,IAAI,QAAQ,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC/C,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;oBACpC,QAAQ,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC9B,6CAA6C;iBAChD;aACJ;SACJ;QAGD,yCAAyC;QACzC,6CAA6C;QAC7C,iDAAiD;QACjD,8DAA8D;QAC9D,mDAAmD;QACnD,qHAAqH;QACrH,4DAA4D;QAC5D,YAAY;QACZ,QAAQ;QACR,IAAI;IACR,CAAC;IA3DD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;iDACiB;IAErC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;mDACmB;IAJpB,SAAS;QAD7B,OAAO;OACa,SAAS,CA8D7B;IAAD,gBAAC;CA9DD,AA8DC,CA9DsC,EAAE,CAAC,SAAS,GA8DlD;kBA9DoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["import { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class ThreeNode extends cc.Component {\n    @property(cc.Prefab)\n    private cubePrefab: cc.Prefab = null;\n    @property(cc.Node)\n    private cubeRootNode: cc.Node = null;\n\n    private touchEventId: number;\n\n    onLoad() {\n        \n    }\n\n    onDestroy() {\n        \n    }\n\n    public init() {\n        this.initBigCube();\n    }\n\n    public reset() {\n        let quat = new cc.Quat()\n        cc.Quat.fromEuler(quat, 0, 45, 0)\n        this.cubeRootNode.setRotation(quat);\n        this.initBigCube();\n    }\n\n    //初始化大正方体\n    private initBigCube() {\n        let count = SyncDataManager.getSyncData().customSyncData.count;\n        this.changeBigCubeSize(count);\n    }\n\n\n    private changeBigCubeSize(count: number) {\n        //先清空\n        this.cubeRootNode.removeAllChildren();\n\n        //立方体的层数为count，例：count=3，立方体最上层为1*1，下一层为2*2,最下层为3*3\n        for (let i = 0; i < count; i++) {\n            for (let j = 0; j < count - i; j++) {\n                for (let k = 0; k < count - i; k++) {\n                    let cubeNode = cc.instantiate(this.cubePrefab);\n                    cubeNode.parent = this.cubeRootNode;\n                    cubeNode.setPosition(k, i, j);\n                    // cubeNode.getComponent(Cube).init(i, j, k);\n                }\n            }\n        }\n        \n\n        // for (let i = 0; i < cubeXCount; i++) {\n        //     for (let j = 0; j < cubeYCount; j++) {\n        //         for (let k = 0; k < cubeZCount; k++) {\n        //             let cubeNode = cc.instantiate(this.cubePrefab);\n        //             cubeNode.parent = this.cubeRootNode;\n        //             cubeNode.setPosition(cubeXStart + i * cubeXDis, cubeYStart + j * cubeYDis, cubeZStart + k * cubeZDis);\n        //             // cubeNode.getComponent(Cube).init(i, j, k);\n        //         }\n        //     }\n        // }\n    }\n}\n"]}